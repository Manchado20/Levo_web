"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[997],{9602:(Y,T,i)=>{i.d(T,{y:()=>R});var p=i(9490),f=i(8288),c=i(7716),x=i(8583);function g(e,Z){1&e&&(c.ynx(0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c.TgZ(3,"div",2),c.Hsn(4,1),c.qZA(),c.BQk())}function _(e,Z){1&e&&(c.TgZ(0,"div",4),c.Hsn(1,3),c.qZA()),2&e&&c.Q6J("@expandCollapse",void 0)}function y(e,Z){if(1&e&&(c.ynx(0),c.Hsn(1,2),c.YNc(2,_,2,1,"div",3),c.BQk()),2&e){const m=c.oxw();c.xp6(2),c.Q6J("ngIf",m.expanded)}}const B=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],F=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];let R=(()=>{class e{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(m){"expanded"in m&&(this.expanded=(0,p.Ig)(m.expanded.currentValue)),"flippable"in m&&(this.flippable=(0,p.Ig)(m.flippable.currentValue))}}return e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(m,C){2&m&&c.Tol(C.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[c.TTD],ngContentSelectors:F,decls:2,vars:2,consts:[[4,"ngIf"],[1,"fuse-card-front"],[1,"fuse-card-back"],["class","fuse-card-expansion",4,"ngIf"],[1,"fuse-card-expansion"]],template:function(m,C){1&m&&(c.F$t(B),c.YNc(0,g,5,0,"ng-container",0),c.YNc(1,y,3,1,"ng-container",0)),2&m&&(c.Q6J("ngIf",C.flippable),c.xp6(1),c.Q6J("ngIf",!C.flippable))},directives:[x.O5],styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:f.L}}),e})()},5935:(Y,T,i)=>{i.d(T,{J:()=>x}),i(9602);var f=i(8583),c=i(7716);let x=(()=>{class g{}return g.\u0275fac=function(y){return new(y||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[f.ez]]}),g})()},1997:(Y,T,i)=>{i.r(T),i.d(T,{GameModule:()=>tt});var p=i(3423),f=i(1095),c=i(8295),x=i(6627),g=i(9983),_=i(2178),y=i(7441),B=i(3017),F=i(5396),R=i(1436),e=i(7716);let Z=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})();var m=i(4466);let C=(()=>{class s{constructor(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["game"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[p.lC],encapsulation:2,changeDetection:0}),s})();var b=i(6215),S=i(9765),P=i(739),U=i(6782),N=i(2238),V=i(205),z=i(5917),k=i(8307),W=i(8002),$=i(3190),v=i(2340),I=i(705),q=i(1841);let A=(()=>{class s{constructor(t){this._httpClient=t,this._round=new b.X(null),this._categories=new b.X(null),this._course=new b.X(null),this._courses=new b.X(null)}get round$(){return this._round.asObservable()}get categories$(){return this._categories.asObservable()}get courses$(){return this._courses.asObservable()}get course$(){return this._course.asObservable()}getRound(){const t=I.l.getAccessTokenPayload(localStorage.accessToken);return this._httpClient.post(v.N.apiURL+"/rounds",{area:t.area,user:t.user}).pipe((0,k.b)(n=>{this._round.next(n)}))}getRoundHangMan(){const t=I.l.getAccessTokenPayload(localStorage.accessToken);return this._httpClient.post(v.N.apiURL+"/start_hangman",{area:t.area,user:t.user}).pipe((0,k.b)(n=>{this._round.next(n)}))}getCategories(){return this._httpClient.get("api/apps/academy/categories").pipe((0,k.b)(t=>{this._categories.next(t)}))}getCourses(){return this._httpClient.get("api/apps/academy/courses").pipe((0,k.b)(t=>{this._courses.next(t)}))}getCourseById(t){return this._httpClient.get("api/apps/academy/courses/course",{params:{id:t}}).pipe((0,W.U)(n=>(this._course.next(n),n)),(0,$.w)(n=>n?(0,z.of)(n):(0,V._)("Could not found course with id of "+t+"!")))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(q.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var K=i(303),X=i(2458),h=i(8583);let ee=(()=>{class s{constructor(){}transform(t,n,o){return Array.isArray(t)?t.map(a=>o.find(l=>l[n]===a)):o.find(a=>a[n]===t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275pipe=e.Yjl({name:"fuseFindByKey",type:s,pure:!1}),s})();function te(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"mat-option",14),e._uU(2),e.qZA(),e.BQk()),2&s){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.slug),e.xp6(1),e.Oqu(t.title)}}const se=function(s,r,t,n){return{"text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500":s,"text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500":r,"text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500":t,"text-amber-800 bg-amber-100 dark:text-amber-50 dark:bg-amber-500":n}};function ne(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",42),e._uU(2),e.qZA(),e.BQk()),2&s){const t=r.ngIf;e.xp6(1),e.Q6J("ngClass",e.l5B(2,se,"isc"===t.slug,"msc"===t.slug,"cloud"===t.slug,"firebase"===t.slug)),e.xp6(1),e.hij(" ",t.title," ")}}function re(s,r){1&s&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.BQk()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:badge-check")("matTooltip",""))}function oe(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"Con l\xedmite de tiempo"),e.qZA())}function ie(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sin l\xedmite de tiempo"),e.qZA())}function ae(s,r){1&s&&(e.ynx(0),e.TgZ(1,"div",33),e._uU(2,"Never completed"),e.qZA(),e.BQk())}const ce=function(){return{"=1":"palabra ",other:"palabras "}};function le(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",33),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.ynx(4),e._uU(5),e.ALo(6,"i18nPlural"),e.BQk(),e.TgZ(7,"span"),e._uU(8,"por ronda"),e.qZA(),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.wordsRound),e.xp6(2),e.hij(" ",e.xi3(6,2,t.wordsRound,e.DdM(5,ce))," ")}}const de=function(s){return[s]};function ue(s,r){if(1&s&&(e.TgZ(0,"button",44),e.TgZ(1,"span",45),e.ynx(2),e.TgZ(3,"span"),e._uU(4,"Practicar"),e.qZA(),e.BQk(),e.ynx(5),e._UZ(6,"mat-icon",46),e.BQk(),e.qZA(),e.qZA()),2&s){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(2,de,t.id)),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:arrow-sm-right")}}function pe(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).showComingSoon(o.id)}),e.TgZ(1,"span",45),e.ynx(2),e.TgZ(3,"span"),e._uU(4,"Proximamente"),e.qZA(),e.BQk(),e.qZA(),e.qZA()}}function me(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",23),e.TgZ(2,"div",24),e.TgZ(3,"div",25),e.YNc(4,ne,3,7,"ng-container",26),e.ALo(5,"fuseFindByKey"),e.TgZ(6,"div",27),e.YNc(7,re,2,2,"ng-container",26),e.qZA(),e.qZA(),e.TgZ(8,"div",28),e._uU(9),e.qZA(),e.TgZ(10,"div",29),e._uU(11),e.qZA(),e._UZ(12,"div",30),e.TgZ(13,"div",31),e._UZ(14,"mat-icon",32),e.TgZ(15,"div",33),e.YNc(16,oe,2,0,"span",26),e.YNc(17,ie,2,0,"span",26),e.qZA(),e.qZA(),e.TgZ(18,"div",34),e._UZ(19,"mat-icon",32),e.YNc(20,ae,3,0,"ng-container",26),e.YNc(21,le,9,6,"ng-container",26),e.qZA(),e.TgZ(22,"div",34),e._UZ(23,"mat-icon",32),e.TgZ(24,"div",33),e.TgZ(25,"span"),e._uU(26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",35),e.TgZ(28,"div",36),e._UZ(29,"div",37),e._UZ(30,"mat-progress-bar",38),e.qZA(),e.TgZ(31,"div",39),e.YNc(32,ue,7,4,"button",40),e.YNc(33,pe,5,0,"button",41),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&s){const t=r.$implicit,n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",e.Dn7(5,15,t.category,"slug",n.categories)),e.xp6(3),e.Q6J("ngIf",t.progress.completed>0),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(2),e.Q6J("ngIf",t.timeLimit),e.xp6(1),e.Q6J("ngIf",!t.timeLimit),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:play"),e.xp6(1),e.Q6J("ngIf",0===t.progress.completed),e.xp6(1),e.Q6J("ngIf",t.progress.completed>0),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:puzzle"),e.xp6(3),e.Oqu(t.gameModes),e.xp6(4),e.Q6J("value",100),e.xp6(2),e.Q6J("ngIf",t.available),e.xp6(1),e.Q6J("ngIf",!t.available)}}function ge(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",22),e.YNc(2,me,34,19,"ng-container",15),e.qZA(),e.BQk()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.filteredCourses)("ngForTrackBy",t.trackByFn)}}function he(s,r){1&s&&(e.TgZ(0,"div",48),e._UZ(1,"mat-icon",49),e.TgZ(2,"div",50),e._uU(3,"No hay resultados"),e.qZA(),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","iconsmind:file_search"))}let fe=(()=>{class s{constructor(t,n){this.dialogRef=t,this.data=n}onNoClick(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(N.so),e.Y36(N.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["dialog-overview-example-dialog"]],decls:5,vars:1,consts:[[1,"flex","justify-center"],[1,"mat-dialog-title"],[2,"width","250px",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Pr\xf3ximamente..."),e.qZA(),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"img",2),e.qZA()),2&t&&(e.xp6(4),e.Q6J("src","/assets/images/games/"+n.data.name+".png",e.LSH))},encapsulation:2}),s})(),xe=(()=>{class s{constructor(t,n,o,a,l){this._activatedRoute=t,this._changeDetectorRef=n,this._router=o,this._gameService=a,this.dialog=l,this.filters={categorySlug$:new b.X("all"),query$:new b.X(""),hideCompleted$:new b.X(!1)},this._unsubscribeAll=new S.xQ}ngOnInit(){this._gameService.categories$.pipe((0,U.R)(this._unsubscribeAll)).subscribe(t=>{this.categories=t,this._changeDetectorRef.markForCheck()}),this._gameService.courses$.pipe((0,U.R)(this._unsubscribeAll)).subscribe(t=>{this.courses=this.filteredCourses=t,this._changeDetectorRef.markForCheck()}),(0,P.aj)([this.filters.categorySlug$,this.filters.query$,this.filters.hideCompleted$]).subscribe(([t,n,o])=>{this.filteredCourses=this.courses,"all"!==t&&(this.filteredCourses=this.filteredCourses.filter(a=>a.category===t)),""!==n&&(this.filteredCourses=this.filteredCourses.filter(a=>a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase())||a.category.toLowerCase().includes(n.toLowerCase()))),o&&(this.filteredCourses=this.filteredCourses.filter(a=>0===a.progress.completed))})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}filterByQuery(t){this.filters.query$.next(t)}filterByCategory(t){this.filters.categorySlug$.next(t.value)}toggleCompleted(t){this.filters.hideCompleted$.next(t.checked)}trackByFn(t,n){return n.id||t}showComingSoon(t){this.dialog.open(fe,{width:"500px",height:"400px",data:{name:t}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.gz),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(A),e.Y36(N.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["academy-list"]],decls:26,vars:8,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"relative","flex-0","py-8","px-4","sm:p-16","overflow-hidden","bg-gray-800","dark"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"z-10","relative","flex","flex-col","items-center"],[1,"mt-1","text-4xl","sm:text-7xl","font-extrabold","tracking-tight","leading-tight","text-center"],[1,"max-w-2xl","mt-6","sm:text-2xl","text-center","tracking-tight","text-secondary"],[1,"flex","flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","w-full","max-w-xs","sm:max-w-5xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-xs","sm:max-w-none"],[1,"fuse-mat-no-subscript","w-full","sm:w-100"],[3,"value","selectionChange"],[3,"value"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fuse-mat-no-subscript","w-full","sm:w-72","mt-4","sm:mt-0","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","Buscar","matInput","",3,"input"],["query",""],[4,"ngIf","ngIfElse"],["noCourses",""],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","mt-8","sm:mt-10"],[1,"flex","flex-col","h-96","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","flex-col","p-6"],[1,"flex","items-center","justify-between"],[4,"ngIf"],[1,"flex","items-center"],[1,"mt-4","text-lg","font-medium"],[1,"mt-0.5","line-clamp-2","text-secondary"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","leading-5","text-md","text-secondary"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5"],[1,"flex","items-center","mt-2","leading-5","text-md","text-secondary"],[1,"flex","flex-col","w-full","mt-auto"],[1,"relative","h-0.5"],[1,"z-10","absolute","inset-x-0","h-6","-mt-3"],[1,"h-0.5",3,"value"],[1,"px-6","py-4","text-right","bg-gray-50","dark:bg-transparent"],["mat-stroked-button","",3,"routerLink",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],[1,"py-0.5","px-3","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"icon-size-5","text-green-600",3,"svgIcon","matTooltip"],["mat-stroked-button","",3,"routerLink"],[1,"inline-flex","items-center"],[1,"ml-1.5","icon-size-5",3,"svgIcon"],["mat-stroked-button","",3,"click"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-20",3,"svgIcon"],[1,"mt-6","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.O4$(),e.TgZ(2,"svg",2),e.TgZ(3,"g",3),e._UZ(4,"circle",4),e._UZ(5,"circle",5),e.qZA(),e.qZA(),e.kcU(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._uU(8," \xbfC\xf3mo deseas aprender? "),e.qZA(),e.TgZ(9,"div",8),e._uU(10," Elige un modo de aprendizaje o busca los disponibles para tu \xe1rea "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"mat-form-field",12),e.TgZ(15,"mat-select",13),e.NdJ("selectionChange",function(l){return n.filterByCategory(l)}),e.TgZ(16,"mat-option",14),e._uU(17,"Todas las \xe1reas"),e.qZA(),e.YNc(18,te,3,2,"ng-container",15),e.qZA(),e.qZA(),e.TgZ(19,"mat-form-field",16),e._UZ(20,"mat-icon",17),e.TgZ(21,"input",18,19),e.NdJ("input",function(){e.CHM(o);const l=e.MAs(22);return n.filterByQuery(l.value)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,ge,3,2,"ng-container",20),e.YNc(24,he,4,1,"ng-template",null,21,e.W1O),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.MAs(25);e.xp6(15),e.Q6J("value","all"),e.xp6(1),e.Q6J("value","all"),e.xp6(2),e.Q6J("ngForOf",n.categories)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("floatLabel","always"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(3),e.Q6J("ngIf",n.filteredCourses.length)("ngIfElse",o)}},directives:[K.PQ,c.KE,y.gD,X.ey,h.sg,x.Hw,c.qo,g.Nt,h.O5,_.pW,h.mk,R.gM,f.lW,p.rH],pipes:[ee,h.Gx],encapsulation:2,changeDetection:0}),s})();var _e=i(7574),E=i(3637),ve=i(6561);function J(s=0,r=E.P){return(!(0,ve.k)(s)||s<0)&&(s=0),(!r||"function"!=typeof r.schedule)&&(r=E.P),new _e.y(t=>(t.add(r.schedule(Ze,s,{subscriber:t,counter:0,period:s})),t))}function Ze(s){const{subscriber:r,counter:t,period:n}=s;r.next(t),this.schedule({subscriber:r,counter:t+1,period:n},n)}class O{constructor(){this.utterance=new SpeechSynthesisUtterance,this.utterance.lang="en-US",this.utterance.pitch=1,this.utterance.rate=.8,this.utterance.volume=1}speak(r){"speechSynthesis"in window&&(this.utterance.text=r,speechSynthesis.speak(this.utterance))}}class M{constructor(){this.sound=new Audio,this.sound.src="../../../assets/sounds/timer.wav"}play(){this.sound.load(),this.sound.play()}pause(){this.sound.pause()}destroy(){this.sound.pause(),this.sound=null}}class L{constructor(){this.sound=new Audio,this.sound.src="../../../assets/sounds/flip.wav"}play(){this.sound.load(),this.sound.play()}pause(){this.sound.pause()}destroy(){this.sound.pause(),this.sound=null}}class H{constructor(){this.sound=new Audio,this.sound.src="../../../assets/sounds/correct.wav"}play(){this.sound.load(),this.sound.play()}pause(){this.sound.pause()}destroy(){this.sound.pause(),this.sound=null}}class G{constructor(){this.sound=new Audio,this.sound.src="../../../assets/sounds/incorrect.wav"}play(){this.sound.load(),this.sound.play()}pause(){this.sound.pause()}destroy(){this.sound.pause(),this.sound=null}}var j=i(9602),w=i(3679);const be=["flashcard"],Te=["inputResponse"],ye=["buttonResponse"];function Ce(s,r){1&s&&(e.TgZ(0,"div",36),e._UZ(1,"mat-icon",37),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:badge-check"))}function Ae(s,r){1&s&&(e.TgZ(0,"div",38),e._UZ(1,"mat-icon",37),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:exclamation"))}function we(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"div"),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().stopRound()}),e._uU(4,"Terminar"),e.qZA(),e.qZA(),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().respondCard(!0)}),e._uU(9,"Siguiente"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"mat-progress-bar",9,10),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"fuse-card",13,14),e.ynx(17,15),e.TgZ(18,"div",16),e.TgZ(19,"div",17),e._uU(20,"("),e.TgZ(21,"i"),e._uU(22),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA(),e._UZ(26,"div",19),e.qZA(),e.BQk(),e.ynx(27,20),e.TgZ(28,"div",21),e.YNc(29,Ce,2,1,"div",22),e.YNc(30,Ae,2,1,"div",23),e.qZA(),e.TgZ(31,"div",24),e.TgZ(32,"div",25),e._uU(33),e.qZA(),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",26),e.TgZ(35,"div",27),e.TgZ(36,"div",28),e.TgZ(37,"mat-form-field",29),e.TgZ(38,"input",30,31),e.NdJ("keydown.enter",function(){return e.CHM(t),e.oxw().respondCard(!1)})("ngModelChange",function(o){return e.CHM(t),e.oxw().response=o}),e.qZA(),e.qZA(),e.TgZ(40,"div",32),e.TgZ(41,"button",33,34),e.NdJ("click",function(){return e.CHM(t),e.oxw().respondCard(!1)})("skipCard",function(){return e.CHM(t),e.oxw().respondCard(!0)}),e._UZ(43,"mat-icon",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(3),e.hij(" ",t.currentItemNumber,"/10 "),e.xp6(2),e.Q6J("disabled",t.responded),e.xp6(3),e.Q6J("color",t.progressBarColor)("value",t.progressBarValue),e.xp6(4),e.Q6J("flippable",!0),e.xp6(7),e.Oqu(t.currentItem.type),e.xp6(1),e.AsE("). ","verb"==t.currentItem.type?"to":""," ",t.currentItem.word,""),e.xp6(2),e.hij(" ",t.currentItem.example," "),e.xp6(2),e.Q6J("ngClass",t.fuse-t.card-t.success),e.xp6(2),e.Q6J("ngIf",t.response.toLowerCase().trim()===t.currentItem.translation.toLowerCase()),e.xp6(1),e.Q6J("ngIf",t.response.toLowerCase().trim()!==t.currentItem.translation.toLowerCase()&&t.currentItem.translation),e.xp6(3),e.Oqu(t.currentItem.translation),e.xp6(5),e.Q6J("ngModel",t.response)("disabled",t.responded),e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:paper-airplane")}}function ke(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"div",40),e.TgZ(2,"div",41),e.TgZ(3,"div",42),e._uU(4,"Resultados"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",43),e.TgZ(6,"div",41),e.TgZ(7,"div",44),e.TgZ(8,"div",45),e._UZ(9,"mat-icon",37),e.qZA(),e.TgZ(10,"div",46),e.TgZ(11,"div",47),e._uU(12,"Correctas"),e.qZA(),e.TgZ(13,"div",48),e._uU(14),e.qZA(),e._UZ(15,"mat-progress-bar",49),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",41),e.TgZ(17,"div",44),e.TgZ(18,"div",50),e._UZ(19,"mat-icon",37),e.qZA(),e.TgZ(20,"div",46),e.TgZ(21,"div",47),e._uU(22,"Incorrectas"),e.qZA(),e.TgZ(23,"div",48),e._uU(24),e.qZA(),e._UZ(25,"mat-progress-bar",51),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",41),e.TgZ(27,"div",44),e.TgZ(28,"div",52),e._UZ(29,"mat-icon",37),e.qZA(),e.TgZ(30,"div",46),e.TgZ(31,"div",47),e._uU(32,"Tiempo promedio de respuesta"),e.qZA(),e.TgZ(33,"div",48),e._uU(34),e.qZA(),e._UZ(35,"mat-progress-bar",51),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",53),e.TgZ(37,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().restartRound()}),e._UZ(38,"mat-icon",55),e.TgZ(39,"span",56),e._uU(40,"Practicar de nuevo"),e.qZA(),e.qZA(),e.TgZ(41,"button",57),e._UZ(42,"mat-icon",55),e.TgZ(43,"span",56),e._uU(44,"Ir a selecci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(9),e.Q6J("svgIcon","heroicons_outline:check-circle"),e.xp6(5),e.AsE("",t.correctResponses," palabras (",t.correctResponses/10*100,"%)"),e.xp6(1),e.Q6J("mode","determinate")("value",t.correctResponses/10*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:exclamation"),e.xp6(5),e.AsE("",10-t.correctResponses," palabras (",(10-t.correctResponses)/10*100,"%)"),e.xp6(1),e.Q6J("color","warn")("mode","determinate")("value",(10-t.correctResponses)/10*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:light-bulb"),e.xp6(5),e.hij("",t.averageResponseTime," segundos"),e.xp6(1),e.Q6J("color","accent")("mode","determinate")("value",t.averageResponseTime/t.progressBarTime*100),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:play"),e.xp6(3),e.Q6J("routerLink","/practicar")("color","warn"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:reply")}}let Ie=(()=>{class s{constructor(t,n,o,a,l){this._document=t,this._gameService=n,this._changeDetectorRef=o,this._router=a,this._httpClient=l,this.progressBarTime=15,this.progressBarValue=100,this.progressBarColor="primary",this.currentItem={},this.response="",this.roundStatus="playing",this.correctResponses=0,this.responseTimes=[],this.averageResponseTime="0",this._unsubscribeAll=new S.xQ}ngOnInit(){this.payload=I.l.getAccessTokenPayload(localStorage.accessToken),this.speechSynthesis=new O,this.timerSound=new M,this.flipSound=new L,this.correctSound=new H,this.incorrectSound=new G,this.startRound()}ngAfterViewInit(){this.inputResponse.nativeElement.focus()}ngOnDestroy(){this.timerSound.destroy(),this.flipSound.destroy(),this.correctSound.destroy(),this.incorrectSound.destroy(),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}nextCard(t){this.currentItem=t,this.responded=!1,this.progressBarColor="primary";const n=J(10),o=100*this.progressBarTime;this.speech(this.currentItem.word);const a=n.subscribe(l=>{this.progressBarValue=100-100*l/o,this.progressBarValue<=30&&(this.progressBarColor="warn",25==this.progressBarValue&&this.timerSound.play()),(l===o||!0===this.responded)&&(a.unsubscribe(),this.currentItemNumber<10&&(this.currentItemNumber++,this.responseTimes.push(l/100),this.averageResponseTime=(this.responseTimes.reduce((d,u)=>d+u)/this.responseTimes.length).toFixed(2)),this.progressBarValue=100,this.progressBarColor="primary",!1===this.responded&&(this.responded=!0,this.buttonResponse.nativeElement.click())),this._changeDetectorRef.markForCheck()})}respondCard(t){if(this.timerSound.pause(),""===this.response.trim()&&!1===this.responded&&!t)return void this.inputResponse.nativeElement.focus();let n=!1,o=this.response.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=this.currentItem.translation.normalize("NFD").replace(/[\u0300-\u036f]/g,"");console.log(o.toLowerCase().trim(),"  this.response.toLowerCase().trim()"),console.log(a.toLowerCase().trim(),"  respuesta_usuario"),this.response.toLowerCase().trim()===this.currentItem.translation.toLowerCase()&&(this.correctResponses+=1,n=!0,console.log("correcto")),n?(this.correctSound.play(),console.log("correcto 2")):(this.incorrectSound.play(),console.log("incorrecto")),this._httpClient.post(v.N.apiURL+"/response",{round:this.round._id,correct:n,time:this.progressBarValue<100?this.progressBarTime-this.progressBarTime*this.progressBarValue/100:0,word:this.currentItem.word,type:this.currentItem.type,translation:this.currentItem.translation}).toPromise().then(d=>{}).catch(d=>{console.log(d)}),this.inputResponse.nativeElement.disabled=!0,this.responded=!0,this.flashcard.face="back",this._changeDetectorRef.markForCheck(),setTimeout(()=>{10!==this.currentItemNumber?(this.currentItem.translation="",this._changeDetectorRef.markForCheck(),this.flashcard.face="front",this.response="",this.flipSound.play(),setTimeout(()=>{this.inputResponse.nativeElement.disabled=!1,this.inputResponse.nativeElement.focus(),this.nextCard(this.round.items[this.currentItemNumber])},200)):this.stopRound()},3e3)}startRound(){this.resetData(),this._gameService.round$.pipe((0,U.R)(this._unsubscribeAll)).subscribe(t=>{this.round=t,this.currentItemNumber=0,this.nextCard(this.round.items[this.currentItemNumber])})}stopRound(){"end"!==this.roundStatus&&(this.timerSound.pause(),this.roundStatus="end",this.responded=!0,this.currentItemNumber=10,this.inputResponse.nativeElement.disabled=!0,this._changeDetectorRef.markForCheck())}restartRound(){this.resetData(),setTimeout(()=>{this._router.navigate([this._router.url])},1e3)}resetData(){this.roundStatus="playing",this.correctResponses=0,this.responseTimes=[],this.round={},this.response="",this._changeDetectorRef.markForCheck()}speech(t){this.speechSynthesis.speak(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.K0),e.Y36(A),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(q.eN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["game-flashcards"]],viewQuery:function(t,n){if(1&t&&(e.Gf(be,5),e.Gf(Te,5),e.Gf(ye,5,e.SBq)),2&t){let o;e.iGM(o=e.CRH())&&(n.flashcard=o.first),e.iGM(o=e.CRH())&&(n.inputResponse=o.first),e.iGM(o=e.CRH())&&(n.buttonResponse=o.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["class","flex-auto p-8",4,"ngIf"],["class","m-4 p-10 shadow rounded-2xl bg-card",4,"ngIf"],[1,"flex-auto","p-8"],[1,"flex","justify-between"],["mat-flat-button","","color","warn",3,"disabled","click"],[1,"text-5xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","ng-star-inserted"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"pt-8"],["mode","determinate",3,"color","value"],["progressBar",""],[1,"py-12"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-start-2","sm:col-span-10","md:col-start-3","md:col-span-8","min-h-40",3,"flippable"],["flashcard",""],["fuseCardFront",""],[1,"flex","flex-col","px-8","py-6","pb-3"],[1,"text-lg","font-bold","sm:text-2xl","lg:text-3xl"],[1,"mt-2","sm:text-2xl","lg:text-2xl"],[1,"mt-3","-mx-3","self-end"],["fuseCardBack","",3,"ngClass"],[1,"flex","justify-end"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-green-500 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-red-600 bg-red-100 dark:text-red-50 dark:bg-red-600",4,"ngIf"],[1,"flex","flex-col","h-full","justify-center","items-center"],[1,"text-4xl","sm:text-4xl","lg:text-5xl","font-bold","pb-10"],[1,"grid","grid-cols-12","pb-5"],[1,"col-span-12","sm:col-start-2","sm:col-span-10","md:col-start-3","md:col-span-8"],[1,"flex","items-end"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","w-full"],["matInput","","type","text","autocomplete","off",1,"min-h-5","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"ngModel","disabled","keydown.enter","ngModelChange"],["inputResponse",""],[1,"flex","items-center","h-11","my-px","ml-4"],["mat-fab","",3,"disabled","click","skipCard"],["buttonResponse",""],[1,"transform","rotate-90",3,"svgIcon"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-green-500","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-red-600","bg-red-100","dark:text-red-50","dark:bg-red-600"],[1,"m-4","p-10","shadow","rounded-2xl","bg-card"],[1,"flex","items-center","pb-2"],[1,"flex","flex-col"],[1,"mr-4","text-4xl","md:text-4xl","tracking-tight","leading-6","font-semibold"],[1,"my-8","space-y-8"],[1,"flex","items-center"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-indigo-100","text-indigo-800","dark:bg-indigo-600","dark:text-indigo-50"],[1,"flex-auto","ml-4","leading-none"],[1,"text-sm","font-medium","text-secondary"],[1,"mt-2","font-medium","text-2xl"],[1,"mt-3","rounded-full",3,"mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-red-100","text-red-800","dark:bg-red-600","dark:text-red-50"],[1,"mt-3","rounded-full",3,"color","mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-teal-100","text-teal-800","dark:bg-teal-600","dark:text-teal-50"],[1,"grid","grid-cols-2","gap-5","py-6"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"routerLink","color"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,we,44,18,"div",1),e.YNc(2,ke,45,21,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","playing"==n.roundStatus),e.xp6(1),e.Q6J("ngIf","end"==n.roundStatus))},directives:[h.O5,f.lW,_.pW,j.y,h.mk,c.KE,g.Nt,w.Fj,w.JJ,w.On,x.Hw,p.rH],encapsulation:2,changeDetection:0}),s})(),qe=(()=>{class s{constructor(t){this.http=t,this._round=new b.X(null),this.words=["array","data","Angular"]}get round$(){return this._round.asObservable()}startGame(){const t=I.l.getAccessTokenPayload(localStorage.accessToken);return this.http.post(v.N.apiURL+"/start_hangman",{area:t.area,user:t.user}).pipe((0,k.b)(n=>{console.log(n,"response"),this._round.next(n)}))}guessLetter(t){return this.http.post(v.N.apiURL+"/guess_hangman",{letter:t})}playHangman(t){return this.http.post(v.N.apiURL+"/start_hangman",t)}getRandomWord(){const t=Math.floor(Math.random()*this.words.length);return this.words[t]}makeLetters(t){return t.split("").map(n=>({name:n,chosen:!1}))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(q.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Re(s,r){1&s&&(e.TgZ(0,"div",25),e._UZ(1,"mat-icon",26),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:badge-check"))}function Se(s,r){1&s&&(e.TgZ(0,"div",27),e._UZ(1,"mat-icon",26),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:exclamation"))}function Ue(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"_"),e.qZA())}function Je(s,r){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Qe(s,r){if(1&s&&(e.TgZ(0,"li"),e.YNc(1,Ue,2,0,"span",23),e.YNc(2,Je,2,1,"span",23),e.qZA()),2&s){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",!t.chosen),e.xp6(1),e.Q6J("ngIf",t.chosen)}}function Be(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).try(a)}),e._uU(2),e.qZA(),e.qZA()}if(2&s){const t=r.$implicit;e.xp6(1),e.Q6J("disabled",t.chosen),e.xp6(1),e.Oqu(t.name)}}function Fe(s,r){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij("You have ",t.missesAllowed-t.numMisses," guesses remaining.")}}function Ne(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"Well done!"),e.qZA())}function Me(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"Sorry, please try again!"),e.qZA())}function Le(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"div"),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().stopRound()}),e._uU(4,"Terminar"),e.qZA(),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().respondCard(!0)}),e._uU(7,"Siguiente"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"mat-progress-bar",8,9),e.qZA(),e.TgZ(11,"div",10),e.TgZ(12,"div",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"div",14),e.YNc(16,Re,2,1,"div",15),e.YNc(17,Se,2,1,"div",16),e.qZA(),e.TgZ(18,"ul",17),e.YNc(19,Qe,3,2,"li",18),e.qZA(),e.qZA(),e.TgZ(20,"div",19),e.TgZ(21,"div",20),e.TgZ(22,"p"),e._uU(23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",21),e.TgZ(25,"ul",17),e.YNc(26,Be,3,2,"li",18),e.qZA(),e.qZA(),e.TgZ(27,"p",22),e.YNc(28,Fe,2,1,"span",23),e.YNc(29,Ne,2,0,"span",23),e.YNc(30,Me,2,0,"span",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(32,"New Game"),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(3),e.Q6J("color",t.progressBarColor)("value",t.progressBarValue),e.xp6(7),e.Q6J("ngIf",t.win),e.xp6(1),e.Q6J("ngIf",!t.win&&t.lost||t.loser),e.xp6(2),e.Q6J("ngForOf",t.secretWord),e.xp6(4),e.Oqu(t.example_word),e.xp6(3),e.Q6J("ngForOf",t.letters),e.xp6(2),e.Q6J("ngIf",!t.win&&!t.lost),e.xp6(1),e.Q6J("ngIf",t.win),e.xp6(1),e.Q6J("ngIf",t.lost)}}function He(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"div",30),e.TgZ(2,"div",31),e.TgZ(3,"div",32),e._uU(4,"Resultados"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",33),e.TgZ(6,"div",31),e.TgZ(7,"div",34),e.TgZ(8,"div",35),e._UZ(9,"mat-icon",26),e.qZA(),e.TgZ(10,"div",36),e.TgZ(11,"div",37),e._uU(12,"Correctas"),e.qZA(),e.TgZ(13,"div",38),e._uU(14),e.ALo(15,"number"),e.qZA(),e._UZ(16,"mat-progress-bar",39),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",31),e.TgZ(18,"div",34),e.TgZ(19,"div",40),e._UZ(20,"mat-icon",26),e.qZA(),e.TgZ(21,"div",36),e.TgZ(22,"div",37),e._uU(23,"Incorrectas"),e.qZA(),e.TgZ(24,"div",38),e._uU(25),e.ALo(26,"number"),e.qZA(),e._UZ(27,"mat-progress-bar",41),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",31),e.TgZ(29,"div",34),e.TgZ(30,"div",42),e._UZ(31,"mat-icon",26),e.qZA(),e.TgZ(32,"div",36),e.TgZ(33,"div",37),e._uU(34,"Tiempo promedio de respuesta"),e.qZA(),e.TgZ(35,"div",38),e._uU(36),e.qZA(),e._UZ(37,"mat-progress-bar",41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",43),e.TgZ(39,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().restartRound()}),e._UZ(40,"mat-icon",45),e.TgZ(41,"span",46),e._uU(42,"Practicar de nuevo"),e.qZA(),e.qZA(),e.TgZ(43,"button",47),e._UZ(44,"mat-icon",45),e.TgZ(45,"span",46),e._uU(46,"Ir a selecci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(9),e.Q6J("svgIcon","heroicons_outline:check-circle"),e.xp6(5),e.AsE("",t.correctResponses," palabras (",e.xi3(15,21,t.correctResponses/3*100,"1.0-0"),"%)"),e.xp6(2),e.Q6J("mode","determinate")("value",t.correctResponses/3*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:exclamation"),e.xp6(5),e.AsE("",3-t.correctResponses," palabras (",e.xi3(26,24,(3-t.correctResponses)/3*100,"1.0-0"),"%)"),e.xp6(2),e.Q6J("color","warn")("mode","determinate")("value",(3-t.correctResponses)/3*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:light-bulb"),e.xp6(5),e.hij("",t.averageResponseTime," segundos"),e.xp6(1),e.Q6J("color","accent")("mode","determinate")("value",t.averageResponseTime/t.progressBarTime*100),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:play"),e.xp6(3),e.Q6J("routerLink","/practicar")("color","warn"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:reply")}}let Ge=(()=>{class s{constructor(t,n,o,a){this.hangmanService=t,this._router=n,this.cdr=o,this._httpClient=a,this.missesAllowed=6,this.secretWord=[],this.letters=[],this.numMisses=0,this.win=!1,this.lost=!1,this.roundStatus="playing",this.progressBarTime=15,this.progressBarValue=100,this.progressBarColor="primary",this.currentItem={},this.correctResponses=0,this.responseTimes=[],this.averageResponseTime="0",this.response="",this.example_word="",this.loser=!1,this.correctResponse=0,this.not_responded=!1,this.incorrect_manual=!1,this.data_word=[],this._unsubscribeAll=new S.xQ,this.isComponentActive=!0}ngOnInit(){this.timerSound=new M,this.flipSound=new L,this.correctSound=new H,this.incorrectSound=new G,this.startGame(),this.letters=this.hangmanService.makeLetters("abcdefghijklmnopqrstuvwxyz")}ngOnDestroy(){this.isComponentActive=!1,this.timerSubscription&&this.timerSubscription.unsubscribe(),this.timerSound&&this.timerSound.destroy(),this.flipSound&&this.flipSound.destroy(),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}startGame(){this.hangmanService.startGame().subscribe(t=>{this.round=t,this.currentItemNumber=0,this.data_word=this.round.items,this.reset(this.currentItemNumber,this.data_word)})}respondCard(t){console.log(this.not_responded," not_responded"),console.log(this.currentItemNumber," this.currentItemNumber"),this.currentItemNumber++,this.correctResponse||(console.log(this.incorrect_manual,"  this.incorrect_manual"),this.incorrect_manual||(this.incorrectSound.play(),this.incorrect_manual=!1),this.loser=!0),this.revealSecret(),this.timerSubscription.unsubscribe(),this.timerSound.pause(),setTimeout(()=>{if(3===this.currentItemNumber||this.currentItemNumber>4)return this.roundStatus="end",void this.stopRound();this.currentItem.translation="",this.cdr.markForCheck(),this.response="";let o={round:this.round._id,correct:this.correctResponse,time:this.progressBarValue<100?this.progressBarTime-this.progressBarTime*this.progressBarValue/100:0,word:this.word.word,type:"Sustantivo",translation:this.word.translation};console.log(o," userResponse"),this._httpClient.post(v.N.apiURL+"/response",o).toPromise().then(a=>{}).catch(a=>{console.log(a)}),setTimeout(()=>{this.reset(this.currentItemNumber,this.data_word),this.loser=!1},200)},3e3)}stopRound(){this.timerSubscription.unsubscribe(),this.timerSound.pause(),this.roundStatus="end",this.currentItemNumber=3,this.cdr.detectChanges(),setTimeout(()=>{this.cdr.markForCheck()},100)}getRandomWord(t){if(0===t.length)return null;const n=Math.floor(Math.random()*t.length),o=t[n];return t.splice(n,1),o}reset(t,n){if(3===this.currentItemNumber||this.currentItemNumber>4)return this.roundStatus="end",void this.stopRound();this.responded=!1,this.word=this.getRandomWord(n),this.correctResponse=0,this.secretWord=this.word.word.split("").map(d=>({name:d,chosen:!1})),this.example_word=this.word.example,this.numMisses=0,this.win=!1,this.lost=!1,this.letters.forEach(d=>d.chosen=!1),this.progressBarColor="primary";const a=J(10),l=100*this.progressBarTime;this.timerSubscription=a.subscribe(d=>{if(this.isComponentActive){if(this.progressBarValue=100-100*d/l,this.progressBarValue<=30&&(this.progressBarColor="warn",25==this.progressBarValue&&this.timerSound.play()),(d===l||!0===this.responded||this.win)&&(this.timerSubscription.unsubscribe(),this.currentItemNumber<3&&(this.responseTimes.push(d/100),this.averageResponseTime=(this.responseTimes.reduce((u,Q)=>u+Q)/this.responseTimes.length).toFixed(2)),this.progressBarValue=100,this.progressBarColor="primary",this.timerSound.pause(),console.log("entro a respndocard")),this.cdr.markForCheck(),this.win){this.responded||(this.responded=!0,this.timerSound.pause(),this.correctSound.play(),this.correctResponses+=1,this.correctResponse=1,this.currentItemNumber++),this.timerSubscription.unsubscribe();let u={round:this.round._id,correct:this.correctResponse,time:this.progressBarValue<100?this.progressBarTime-this.progressBarTime*this.progressBarValue/100:0,word:this.word.word,type:"Sustantivo",translation:this.word.translation};console.log(u," userResponse"),this._httpClient.post(v.N.apiURL+"/response",u).toPromise().then(Q=>{}).catch(Q=>{console.log(Q)}),setTimeout(()=>{this.incorrect_manual=!1,this.reset(t,this.data_word)},3e3)}}else this.timerSubscription.unsubscribe()}),this.cdr.detectChanges()}nextWord(t){this.currentItem=t,this.responded=!1,this.progressBarColor="primary";const n=J(10),o=100*this.progressBarTime,a=n.subscribe(l=>{this.progressBarValue=100-100*l/o,this.progressBarValue<=30&&(this.progressBarColor="warn",25==this.progressBarValue&&this.timerSound.play()),(l===o||!0===this.responded)&&(a.unsubscribe(),this.currentItemNumber<3&&(this.responseTimes.push(l/100),this.averageResponseTime=(this.responseTimes.reduce((d,u)=>d+u)/this.responseTimes.length).toFixed(2)),this.progressBarValue=100,this.progressBarColor="primary",!1===this.responded&&(this.responded=!0)),this.cdr.markForCheck()})}try(t){t.chosen=!0;let n=!1;this.secretWord.forEach(o=>{t.name.toUpperCase()===o.name.toUpperCase()&&(o.chosen=!0,n=!0)}),n||this.numMisses++,this.checkForEndOfGame()}checkForEndOfGame(){this.win=this.secretWord.every(t=>t.chosen),!this.win&&this.numMisses===this.missesAllowed&&(this.lost=!0,this.revealSecret(),this.incorrect_manual||(this.incorrectSound.play(),this.incorrect_manual=!0),this.timerSubscription.unsubscribe(),this.progressBarValue=100,this.progressBarColor="primary",setTimeout(()=>{this.loser=!1,this.respondCard(!0),this.incorrect_manual=!1},2e3))}revealSecret(){this.secretWord.forEach(t=>t.chosen=!0)}restartRound(){this.resetData(),setTimeout(()=>{this._router.navigate([this._router.url]),this.startGame()},800)}resetData(){this.roundStatus="playing",this.correctResponses=0,this.responseTimes=[],this.round={},this.response="",this.cdr.markForCheck(),this.loser=!1,this.incorrect_manual=!1}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(qe),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(q.eN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-hangman"]],decls:3,vars:2,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["class","flex-auto p-8",4,"ngIf"],["class","m-4 p-10 shadow rounded-2xl bg-card",4,"ngIf"],[1,"flex-auto","p-8"],[1,"flex","justify-between"],["mat-flat-button","","color","warn",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"pt-8"],["mode","determinate",3,"color","value"],["progressBar",""],[1,"container-fluid"],[1,"well"],[1,"secretWord"],[1,"card","mb-3"],[1,"flex","justify-end"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-green-500 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-red-600 bg-red-100 dark:text-red-50 dark:bg-red-600",4,"ngIf"],[1,"list-inline","text-center"],[4,"ngFor","ngForOf"],[1,"card"],[1,"container-example","text-center"],[1,"letters"],[1,"text-center"],[4,"ngIf"],[1,"btn","btn-primary","btn-large","d-none",3,"click"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-green-500","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-red-600","bg-red-100","dark:text-red-50","dark:bg-red-600"],[1,"btn","btn-dark","letter-button",3,"disabled","click"],[1,"m-4","p-10","shadow","rounded-2xl","bg-card"],[1,"flex","items-center","pb-2"],[1,"flex","flex-col"],[1,"mr-4","text-4xl","md:text-4xl","tracking-tight","leading-6","font-semibold"],[1,"my-8","space-y-8"],[1,"flex","items-center"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-indigo-100","text-indigo-800","dark:bg-indigo-600","dark:text-indigo-50"],[1,"flex-auto","ml-4","leading-none"],[1,"text-sm","font-medium","text-secondary"],[1,"mt-2","font-medium","text-2xl"],[1,"mt-3","rounded-full",3,"mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-red-100","text-red-800","dark:bg-red-600","dark:text-red-50"],[1,"mt-3","rounded-full",3,"color","mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-teal-100","text-teal-800","dark:bg-teal-600","dark:text-teal-50"],[1,"grid","grid-cols-2","gap-5","py-6"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"routerLink","color"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Le,33,12,"div",1),e.YNc(2,He,47,27,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","playing"==n.roundStatus),e.xp6(1),e.Q6J("ngIf","end"==n.roundStatus))},directives:[h.O5,f.lW,_.pW,h.sg,x.Hw,p.rH],pipes:[h.JJ],styles:["h1[_ngcontent-%COMP%]{margin:20px}.secretWord[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:40px;font-size:3rem}.letter-button[_ngcontent-%COMP%]:disabled{opacity:.5;color:#000}.list-inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;padding-right:5px;padding-left:5px}"]}),s})();const Ye=["flashcard"],Ee=["inputResponse"],Oe=["buttonResponse"];function je(s,r){1&s&&(e.TgZ(0,"div",38),e._UZ(1,"mat-icon",39),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:badge-check"))}function De(s,r){1&s&&(e.TgZ(0,"div",40),e._UZ(1,"mat-icon",39),e.qZA()),2&s&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:exclamation"))}function Pe(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"div"),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().stopRound()}),e._uU(4,"Terminar"),e.qZA(),e.qZA(),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().respondCard(!0)}),e._uU(9,"Siguiente"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"mat-progress-bar",9,10),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"fuse-card",13,14),e.ynx(17,15),e.TgZ(18,"div",16),e.TgZ(19,"div",17),e._uU(20),e.qZA(),e._UZ(21,"div",18),e.qZA(),e.BQk(),e.ynx(22,19),e.TgZ(23,"div",20),e.YNc(24,je,2,1,"div",21),e.YNc(25,De,2,1,"div",22),e.qZA(),e.TgZ(26,"div",23),e.TgZ(27,"div",24),e._uU(28),e.qZA(),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",25),e.TgZ(30,"div",26),e.TgZ(31,"div",27),e.TgZ(32,"mat-form-field",28),e.TgZ(33,"input",29,30),e.NdJ("keydown.enter",function(){return e.CHM(t),e.oxw().respondCard(!1)})("ngModelChange",function(o){return e.CHM(t),e.oxw().response=o}),e.qZA(),e.qZA(),e.TgZ(35,"div",31),e.TgZ(36,"button",32,33),e.NdJ("click",function(){return e.CHM(t),e.oxw().respondCard(!1)})("skipCard",function(){return e.CHM(t),e.oxw().respondCard(!0)}),e._UZ(38,"mat-icon",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",25),e.TgZ(40,"div",35),e.TgZ(41,"div",31),e.TgZ(42,"button",36,33),e.NdJ("click",function(){return e.CHM(t),e.oxw().listenWord()}),e._UZ(44,"mat-icon",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(3),e.hij(" ",t.currentItemNumber,"/10 "),e.xp6(2),e.Q6J("disabled",t.responded),e.xp6(3),e.Q6J("color",t.progressBarColor)("value",t.progressBarValue),e.xp6(4),e.Q6J("flippable",!0),e.xp6(5),e.hij(" ",t.currentItem.example," "),e.xp6(2),e.Q6J("ngClass",t.fuse-t.card-t.success),e.xp6(2),e.Q6J("ngIf",(null==t.response?null:t.response.toLowerCase().trim())===(null==t.currentItem||null==t.currentItem.word?null:t.currentItem.word.toLowerCase())),e.xp6(1),e.Q6J("ngIf",(null==t.response?null:t.response.toLowerCase().trim())!==(null==t.currentItem||null==t.currentItem.word?null:t.currentItem.word.toLowerCase())&&(null==t.currentItem?null:t.currentItem.word)),e.xp6(3),e.Oqu(t.currentItem.word),e.xp6(5),e.Q6J("ngModel",t.response)("disabled",t.responded),e.xp6(3),e.Q6J("disabled",t.responded),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:paper-airplane"),e.xp6(4),e.Q6J("disabled",t.responded),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:volume-up")}}function Ve(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",41),e.TgZ(1,"div",42),e.TgZ(2,"div",43),e.TgZ(3,"div",44),e._uU(4,"Resultados"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",45),e.TgZ(6,"div",43),e.TgZ(7,"div",46),e.TgZ(8,"div",47),e._UZ(9,"mat-icon",39),e.qZA(),e.TgZ(10,"div",48),e.TgZ(11,"div",49),e._uU(12,"Correctas"),e.qZA(),e.TgZ(13,"div",50),e._uU(14),e.qZA(),e._UZ(15,"mat-progress-bar",51),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",43),e.TgZ(17,"div",46),e.TgZ(18,"div",52),e._UZ(19,"mat-icon",39),e.qZA(),e.TgZ(20,"div",48),e.TgZ(21,"div",49),e._uU(22,"Incorrectas"),e.qZA(),e.TgZ(23,"div",50),e._uU(24),e.qZA(),e._UZ(25,"mat-progress-bar",53),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",43),e.TgZ(27,"div",46),e.TgZ(28,"div",54),e._UZ(29,"mat-icon",39),e.qZA(),e.TgZ(30,"div",48),e.TgZ(31,"div",49),e._uU(32,"Tiempo promedio de respuesta"),e.qZA(),e.TgZ(33,"div",50),e._uU(34),e.qZA(),e._UZ(35,"mat-progress-bar",53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",55),e.TgZ(37,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().restartRound()}),e._UZ(38,"mat-icon",57),e.TgZ(39,"span",58),e._uU(40,"Practicar de nuevo"),e.qZA(),e.qZA(),e.TgZ(41,"button",59),e._UZ(42,"mat-icon",57),e.TgZ(43,"span",58),e._uU(44,"Ir a selecci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(9),e.Q6J("svgIcon","heroicons_outline:check-circle"),e.xp6(5),e.AsE("",t.correctResponses," palabras (",t.correctResponses/10*100,"%)"),e.xp6(1),e.Q6J("mode","determinate")("value",t.correctResponses/10*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:exclamation"),e.xp6(5),e.AsE("",10-t.correctResponses," palabras (",(10-t.correctResponses)/10*100,"%)"),e.xp6(1),e.Q6J("color","warn")("mode","determinate")("value",(10-t.correctResponses)/10*100),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:light-bulb"),e.xp6(5),e.hij("",t.averageResponseTime," segundos"),e.xp6(1),e.Q6J("color","accent")("mode","determinate")("value",t.averageResponseTime/t.progressBarTime*100),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:play"),e.xp6(3),e.Q6J("routerLink","/practicar")("color","warn"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:reply")}}let ze=(()=>{class s{constructor(t,n,o,a,l){this._document=t,this._gameService=n,this._changeDetectorRef=o,this._router=a,this._httpClient=l,this.progressBarTime=15,this.progressBarValue=100,this.progressBarColor="primary",this.currentItem={},this.response="",this.roundStatus="playing",this.correctResponses=0,this.responseTimes=[],this.averageResponseTime="0",this._unsubscribeAll=new S.xQ}ngOnInit(){this.payload=I.l.getAccessTokenPayload(localStorage.accessToken),this.speechSynthesis=new O,this.timerSound=new M,this.flipSound=new L,this.correctSound=new H,this.incorrectSound=new G,this.startRound()}ngAfterViewInit(){this.inputResponse.nativeElement.focus()}ngOnDestroy(){this.timerSound.destroy(),this.flipSound.destroy(),this.correctSound.destroy(),this.incorrectSound.destroy(),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}nextCard(t){this.currentItem=t,this.responded=!1,this.progressBarColor="primary";const n=J(10),o=100*this.progressBarTime;this.speech(this.currentItem.word);const a=n.subscribe(l=>{this.progressBarValue=100-100*l/o,this.progressBarValue<=30&&(this.progressBarColor="warn",25==this.progressBarValue&&this.timerSound.play()),(l===o||!0===this.responded)&&(a.unsubscribe(),this.currentItemNumber<10&&(this.currentItemNumber++,this.responseTimes.push(l/100),this.averageResponseTime=(this.responseTimes.reduce((d,u)=>d+u)/this.responseTimes.length).toFixed(2)),this.progressBarValue=100,this.progressBarColor="primary",!1===this.responded&&(this.responded=!0,this.buttonResponse.nativeElement.click())),this._changeDetectorRef.markForCheck()})}respondCard(t){if(this.timerSound.pause(),""===this.response.trim()&&!1===this.responded&&!t)return void this.inputResponse.nativeElement.focus();let n=!1;const o=u=>u?u.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",a=o(this.response),l=o(this.currentItem.translation);console.log(a,"  this.response normalized"),console.log(l,"  this.currentItem.translation normalized"),a&&l&&a===l&&(this.correctResponses+=1,n=!0,console.log("correcto")),n?(this.correctSound.play(),console.log("correcto 2")):(this.incorrectSound.play(),console.log("incorrecto")),this._httpClient.post(v.N.apiURL+"/response",{round:this.round._id,correct:n,time:this.progressBarValue<100?this.progressBarTime-this.progressBarTime*this.progressBarValue/100:0,word:this.currentItem.word,type:this.currentItem.type,translation:this.currentItem.translation}).toPromise().then(u=>{}).catch(u=>{console.log(u)}),this.inputResponse.nativeElement.disabled=!0,this.responded=!0,this.flashcard.face="back",this._changeDetectorRef.markForCheck(),setTimeout(()=>{10!==this.currentItemNumber?(this.currentItem.translation="",this._changeDetectorRef.markForCheck(),this.flashcard.face="front",this.response="",this.flipSound.play(),setTimeout(()=>{this.inputResponse.nativeElement.disabled=!1,this.inputResponse.nativeElement.focus(),this.nextCard(this.round.items[this.currentItemNumber])},200)):this.stopRound()},3e3)}startRound(){this.resetData(),this._gameService.round$.pipe((0,U.R)(this._unsubscribeAll)).subscribe(t=>{this.round=t,this.currentItemNumber=0,console.log(this.round.items," this.round.items"),this.nextCard(this.round.items[this.currentItemNumber])})}stopRound(){"end"!==this.roundStatus&&(this.timerSound.pause(),this.roundStatus="end",this.responded=!0,this.currentItemNumber=10,this.inputResponse.nativeElement.disabled=!0,this._changeDetectorRef.markForCheck())}restartRound(){this.resetData(),setTimeout(()=>{this._router.navigate([this._router.url])},1e3)}resetData(){this.roundStatus="playing",this.correctResponses=0,this.responseTimes=[],this.round={},this.response="",this._changeDetectorRef.markForCheck()}listenWord(){this.speech(this.currentItem.word)}speech(t){this.speechSynthesis.speak(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.K0),e.Y36(A),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(q.eN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-simon-says"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ye,5),e.Gf(Ee,5),e.Gf(Oe,5,e.SBq)),2&t){let o;e.iGM(o=e.CRH())&&(n.flashcard=o.first),e.iGM(o=e.CRH())&&(n.inputResponse=o.first),e.iGM(o=e.CRH())&&(n.buttonResponse=o.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["class","flex-auto p-8",4,"ngIf"],["class","m-4 p-10 shadow rounded-2xl bg-card",4,"ngIf"],[1,"flex-auto","p-8"],[1,"flex","justify-between"],["mat-flat-button","","color","warn",3,"disabled","click"],[1,"text-5xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","ng-star-inserted"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"pt-8"],["mode","determinate",3,"color","value"],["progressBar",""],[1,"py-12"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-start-2","sm:col-span-10","md:col-start-3","md:col-span-8","min-h-40",3,"flippable"],["flashcard",""],["fuseCardFront",""],[1,"flex","flex-col","px-8","py-6","pb-3"],[1,"mt-2","sm:text-2xl","lg:text-2xl"],[1,"mt-3","-mx-3","self-end"],["fuseCardBack","",3,"ngClass"],[1,"flex","justify-end"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-green-500 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","flex flex-0 items-center justify-center w-8 h-8 m-2 rounded-full text-red-600 bg-red-100 dark:text-red-50 dark:bg-red-600",4,"ngIf"],[1,"flex","flex-col","h-full","justify-center","items-center"],[1,"text-4xl","sm:text-4xl","lg:text-5xl","font-bold","pb-10"],[1,"grid","grid-cols-12","pb-5"],[1,"col-span-12","sm:col-start-2","sm:col-span-10","md:col-start-3","md:col-span-8"],[1,"flex","items-end"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","w-full"],["matInput","","type","text","autocomplete","off",1,"min-h-5","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"ngModel","disabled","keydown.enter","ngModelChange"],["inputResponse",""],[1,"flex","items-center","h-11","my-px","ml-4"],["mat-fab","",3,"disabled","click","skipCard"],["buttonResponse",""],[1,"transform","rotate-90",3,"svgIcon"],[1,"col-span-12","sm:col-start-2","sm:col-span-10","md:col-start-3","md:col-span-8","d-flex",2,"justify-content","center"],["mat-fab","",3,"disabled","click"],[1,"transform",3,"svgIcon"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-green-500","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","m-2","rounded-full","text-red-600","bg-red-100","dark:text-red-50","dark:bg-red-600"],[1,"m-4","p-10","shadow","rounded-2xl","bg-card"],[1,"flex","items-center","pb-2"],[1,"flex","flex-col"],[1,"mr-4","text-4xl","md:text-4xl","tracking-tight","leading-6","font-semibold"],[1,"my-8","space-y-8"],[1,"flex","items-center"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-indigo-100","text-indigo-800","dark:bg-indigo-600","dark:text-indigo-50"],[1,"flex-auto","ml-4","leading-none"],[1,"text-sm","font-medium","text-secondary"],[1,"mt-2","font-medium","text-2xl"],[1,"mt-3","rounded-full",3,"mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-red-100","text-red-800","dark:bg-red-600","dark:text-red-50"],[1,"mt-3","rounded-full",3,"color","mode","value"],[1,"flex","items-center","justify-center","w-14","h-14","rounded","bg-teal-100","text-teal-800","dark:bg-teal-600","dark:text-teal-50"],[1,"grid","grid-cols-2","gap-5","py-6"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"fuse-mat-button-rounded","col-span-2","sm:col-span-1",3,"routerLink","color"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Pe,45,17,"div",1),e.YNc(2,Ve,45,21,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","playing"==n.roundStatus),e.xp6(1),e.Q6J("ngIf","end"==n.roundStatus))},directives:[h.O5,f.lW,_.pW,j.y,h.mk,c.KE,g.Nt,w.Fj,w.JJ,w.On,x.Hw,p.rH],styles:[""]}),s})(),We=(()=>{class s{constructor(t){this._gameService=t}resolve(t,n){return this._gameService.getCategories()}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(A))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$e=(()=>{class s{constructor(t){this._gameService=t}resolve(t,n){return this._gameService.getCourses()}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(A))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),D=(()=>{class s{constructor(t){this._gameService=t}resolve(t,n){return this._gameService.getRound()}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(A))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ke=[{path:"",component:C,resolve:{categories:We},children:[{path:"",pathMatch:"full",component:xe,resolve:{courses:$e}},{path:"flashcards",component:Ie,runGuardsAndResolvers:"always",resolve:{round:D}},{path:"hangman",component:Ge,runGuardsAndResolvers:"always"},{path:"simon-says",component:ze,runGuardsAndResolvers:"always",resolve:{round:D}}]}];var Xe=i(5939),et=i(5935);let tt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.Bz.forChild(Ke),f.ot,c.lN,x.Ps,g.c,_.Cv,y.LD,B.SJ,F.rP,R.AV,Z,m.m,Xe.Nh,et.J]]}),s})()}}]);